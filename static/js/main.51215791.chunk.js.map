{"version":3,"sources":["Redux/dialog-reducer.tsx","components/users/users.module.css","api/api.tsx","components/navbar/Navbar.module.css","components/navbar/Navbar.tsx","Redux/auth-reducer.tsx","components/header/Header.tsx","components/header/HeaderContainer.tsx","Redux/users-reducer.tsx","components/common/Paginator/Paginator.tsx","components/users/User.tsx","asets/images/images.jpg","components/users/UsersComponent.tsx","Redux/selectors.ts","components/users/UsersContainer.tsx","components/login/Login.tsx","Redux/app-reducer.tsx","Redux/redux-store.tsx","App.tsx","hoc/withSuspense.tsx","index.tsx","components/common/formControls/FormControls.module.css","components/common/formControls/FormControls.tsx","asets/images/Fidget-spinner.gif","components/common/preloader/Preloader.tsx","components/common/Paginator/Paginator.module.css","utils/validators.tsx","components/header/Header.module.css","Redux/profile-reducer.tsx"],"names":["initialState","dialogsData","id","name","messageData","message","dialogReducer","state","action","type","body","newMessageBody","addMessageActionCreator","module","exports","instance","axios","create","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","to","activeClassName","active","initState","isAuth","setAuthUserData","getAuthUserData","dispatch","a","resultCode","Header","props","header","src","alt","loginBlock","onClick","HeaderContainer","this","React","Component","connect","auth","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","SET_TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","Paginator","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","filter","p","map","selectedPage","pageNumber","e","onPageChanged","User","user","photos","small","userPhoto","followed","disabled","some","UsersComponent","u","getUsersSuperSelector","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","unfollowSuccess","items","totalCount","count","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","style","formSummaryError","stopSubmit","_error","messages","length","formData","initialized","reducer","combineReducers","profilePage","profileReducer","dialogsPage","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","DialogsContainer","lazy","default","ProfileContainer","App","initializeApp","initialised","path","render","Suspense","fallback","AppContainer","promise","Promise","all","withRouter","SamuraiJSApp","ReactDOM","document","getElementById","Textarea","input","meta","hasError","touched","formControl","spinner","value","maxLengthCreator","maxLength","likesCount","profile","postId","newPost","addNewPost","addPostActionCreator","setStatus","getUserProfile"],"mappings":"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","file":"static/js/main.51215791.chunk.js","sourcesContent":["import React from \"react\";\n\n\nexport type ActionTypes = ReturnType<typeof addMessageActionCreator>\n\nexport let initialState: DialogsPageType = {\n    dialogsData: [\n        {id: 1, name: 'Artem'},\n        {id: 2, name: 'Tania'},\n        {id: 3, name: 'Mitia'},\n        {id: 4, name: 'Vasia'},\n        {id: 5, name: 'Natasha'},\n        {id: 6, name: 'Gena'},\n    ],\n    messageData: [\n        {id: 1, message: 'How are ya doing'},\n        {id: 2, message: 'Hello'},\n        {id: 3, message: 'Yo'},\n    ]\n\n}\nexport type dialogsDataType = {\n    id: number,\n    name: string\n}\n\nexport type messageDataType = {\n    id: number,\n    message: string,\n\n\n}\nexport type DialogsPageType = {\n    dialogsData: Array<dialogsDataType>,\n    messageData: Array<messageDataType>,\n\n}\n\nexport const dialogReducer = (state: DialogsPageType = initialState, action: ActionTypes): DialogsPageType => {\n    switch (action.type) {\n        case \"ADD-MESSAGE\":\n            let body = action.newMessageBody;\n            return {\n                ...state,\n                messageData: [...state.messageData, {id: 4, message: body}]\n            } as DialogsPageType\n        default:\n            return state\n    }\n}\nexport const addMessageActionCreator = (newMessageBody: string) => ({\n    type: 'ADD-MESSAGE',\n    newMessageBody\n}) as const\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1GUjs\"};","import axios from \"axios\";\n\nexport const instance = axios.create({\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": \"d3f5a5ec-7ebf-4ca3-ba3f-86a0fe38c919\"\n    },\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\n})\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                return response.data\n            })\n    },\n    unfollow(userId:number) {\n       return instance.delete(`/follow/${userId}`)\n    },\n    follow(userId:number) {\n       return instance.post(`/follow/${userId}` )\n    },\n    getProfile(userId: number){\n        console.warn('Please use ProfileAPI object')\n        return profileAPI.getProfile(userId)\n    },\n}\nexport const profileAPI ={\n    getProfile(userId: number){\n        return instance.get(`/profile/` + userId)\n    },\n    getStatus(userId: number){\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status: string){\n        return instance.put(`profile/status/`, {status: status})\n    }\n}\n\n\nexport const authAPI = {\n\n    me(){\n  return instance.get(`auth/me`)\n},\n    login(email: string, password: string, rememberMe=false){\n        return instance.post(`auth/login`, {email, password, rememberMe})\n},\n    logout(){\n        return instance.delete(`auth/login`)}}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2T-h-\",\"item\":\"Navbar_item__3-0rV\",\"active\":\"Navbar_active__2Bpjw\"};","import React from \"react\";\nimport s from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nexport const Navbar = () => {\n    return (\n\n            <nav className={s.nav}>\n                <div className={s.item}>\n                    <NavLink to= '/profile' activeClassName={s.active}>Profile</NavLink>\n                </div >\n                <div className={s.item}>\n                    <NavLink to= '/dialogs' activeClassName={s.active}>Messages</NavLink>\n                </div>\n                <div className={s.item}>\n                    <NavLink to= '/users' activeClassName={s.active}>Users</NavLink>\n                </div>\n                <div className={s.item}>\n                    <a>News</a>\n                </div>\n                <div className={s.item}>\n                    <a>Music</a>\n                </div>\n                <div className={s.item}>\n                    <a>Settings</a>\n                </div>\n\n            </nav>\n\n    );\n}","import React from \"react\";\nimport {authAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {AppThunkType} from \"./redux-store\";\nimport {stopSubmit} from \"redux-form\";\n\n\nexport let initState = {\n    id: '',\n    email: null,\n    login: null,\n    isAuth: false\n}\nexport type AuthType = {\n    id: string,\n    email: string | null,\n    login: string | null,\n    isAuth: boolean\n}\ntype AuthUserDataType = ReturnType<typeof setAuthUserData>\n\nexport const authReducer = (state: AuthType = initState, action: AuthUserDataType): AuthType => {\n    switch (action.type) {\n\n        case 'auth/SET-USER-DATA':\n            return {\n                id: action.data.userId,\n                email: action.data.email,\n                login: action.data.login,\n                isAuth: action.data.isAuth\n            }\n        default:\n            return state\n    }\n}\n\nexport const setAuthUserData = (userId: string, email: string | null, login: string | null, isAuth: boolean) => {\n    debugger\n    return {\n        type: 'auth/SET-USER-DATA',\n        data: {userId, email, login, isAuth}\n    } as const\n}\n\n\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\n    let response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n\n}\nexport const login = (email: string, password: string, rememberMe = false)\n    : AppThunkType => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        dispatch(stopSubmit('login', {_error: response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'}))\n    }\n\n}\n\nexport const logout = () => async (dispatch: Dispatch) => {\n    let response = await authAPI.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData('', null, null, false))\n    }\n}","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from './Header.module.css';\n\n\n\n\ntype HeaderPropsType={\n    login: string,\n    isAuth: boolean,\n    logout: () => void\n}\nexport const Header = (props:HeaderPropsType) => {\n    return (\n\n        <header className={s.header}>\n            <img\n                src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTct01PK0ylQKeDyQyqzQFabAfyAHqrxuJ2mw&usqp=CAU \" alt={''}/>\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div>{props.login} - <button onClick={props.logout}>Log Out</button> </div>\n                    :<NavLink to={'./login'}>Login </NavLink>}\n            </div>\n        </header>\n\n    );\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {RootReduxStoreType} from \"../../Redux/redux-store\";\nimport {logout} from \"../../Redux/auth-reducer\";\nimport {Header} from \"./Header\";\n\n\nexport type mapStateToPropsType = {\n\n    login: string,\n    isAuth: boolean\n}\n\nexport type mapDispatchToPropsType = {\n    logout: () => void,\n   // getAuthUserData: () => void,\n}\nexport type authPropsType = mapStateToPropsType & mapDispatchToPropsType\n\nclass HeaderContainer extends React.Component <authPropsType> {\n\n    render() {\n        return (\n            <Header {...this.props} />\n        );\n    }\n}\n\nlet mapStateToProps = (state: RootReduxStoreType): mapStateToPropsType => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n\n}) as mapStateToPropsType\n\n\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\";\nimport {usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst SET_TOGGLE_IS_FETCHING = 'SET_TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\ntype photosType = {\n    small: string,\n    large: string\n}\n\nexport type UserType = {\n    id: number,\n    followed: boolean,\n    name: string,\n    status: string,\n    photos: photosType\n}\nexport type InitStateType = {\n    users: Array<UserType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    isFetching: boolean,\n    followingInProgress: Array<number>\n   }\n\nexport let initState: InitStateType = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: [],\n   }\nexport type ActionType = ReturnType<typeof followSuccess>\n    | ReturnType<typeof unfollowSuccess>\n    | ReturnType<typeof setUsers>\n    | ReturnType<typeof setCurrentPage>\n    | ReturnType<typeof setTotalUsersCount>\n    | ReturnType<typeof toggleIsFetching>\n    | ReturnType<typeof toggleFollowingInProgress>\n\n\nexport const usersReducer = (state: InitStateType = initState, action: ActionType): InitStateType => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: true};\n                    }\n                    return u;\n                })\n            }\n\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u;\n                })\n            };\n        case SET_USERS:\n            return {\n                ...state, users: action.users\n            }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.count}\n        }\n        case SET_TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default:\n            return state;\n    }\n}\n\nexport const followSuccess = (userId: number) => (\n    {type: FOLLOW, userId} as const)\nexport const unfollowSuccess = (userId: number) => (\n    {type: UNFOLLOW, userId} as const)\nexport const setUsers = (users: Array<UserType>) => (\n    {type: SET_USERS, users} as const)\nexport const setCurrentPage = (currentPage: number) => (\n    {type: SET_CURRENT_PAGE, currentPage} as const)\nexport const setTotalUsersCount = (totalUsersCount: number) => (\n    {type: SET_TOTAL_USERS_COUNT, count: totalUsersCount} as const)\nexport const toggleIsFetching = (isFetching: boolean) => (\n    {type: SET_TOGGLE_IS_FETCHING, isFetching} as const)\nexport const toggleFollowingInProgress = (isFetching: boolean, userId: number) => (\n    {type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId} as const)\n\n\nexport const getUsers = (currentPage: number, pageSize: number) => {\n    return async (dispatch: Dispatch) => {\n        dispatch(toggleIsFetching(true));\n        let data = await usersAPI.getUsers(currentPage, pageSize)\n\n        dispatch(toggleIsFetching(false))\n        dispatch(setUsers(data.items))\n        dispatch(setTotalUsersCount(data.totalCount))\n        dispatch(setCurrentPage(currentPage))\n    }\n}\n\nexport const follow = (userId: number) => {\n    return async (dispatch: Dispatch) => {\n        dispatch(toggleFollowingInProgress(true, userId));\n        let response = await usersAPI.follow(userId)\n\n        if (response.data.resultCode === 0) {\n            dispatch(followSuccess(userId))\n        }\n        dispatch(toggleFollowingInProgress(false, userId));\n    }\n}\nexport const unfollow = (userId: number) => {\n    return (dispatch: Dispatch) => {\n        dispatch(toggleFollowingInProgress(true, userId));\n        usersAPI.unfollow(userId)\n            .then(response => {\n                if (response.data.resultCode === 0) {\n                    dispatch(unfollowSuccess(userId));\n                }\n                dispatch(toggleFollowingInProgress(false, userId));\n            })\n    }\n}","import React, {useState} from \"react\";\nimport styles from \"./Paginator.module.css\"\n\n\nexport type PaginatorType = {\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number,\n    onPageChanged: (pageNumber: number) => void\n}\n\n\nexport const Paginator = (props: PaginatorType) => {\n    let portionSize = 10\n    let pageCount = Math.ceil(props.totalUsersCount / props.pageSize);\n    let pages = [];\n    for (let i = 1; i <= pageCount; i++) {\n        pages.push(i);\n    }\n\n    let portionCount = Math.ceil(pageCount / portionSize)\n    let [portionNumber, setPortionNumber] = useState(1)\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionNumber * portionSize\n    return <div className={styles.paginator}>\n        {portionNumber > 1 &&\n        <button onClick={() => {\n            setPortionNumber(portionNumber - 1)\n        }}>Prev</button>}\n\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n\n\n            .map((p) => {\n                    // @ts-ignore\n                    return <span className={ ({\n                        [styles.selectedPage]: props.currentPage === p\n                    }, styles.pageNumber)}\n                                 key={p}\n                                 onClick={(e) => {\n                                     props.onPageChanged(p)\n                                 }}>{p}</span>\n                }\n            )}\n        {portionCount > portionNumber &&\n        <button onClick={() => {\n            setPortionNumber(portionNumber + 1)\n        }}>Next</button>}\n    </div>\n\n\n}\n","import React from \"react\";\nimport styles from \"./users.module.css\";\nimport userPhoto from './../../asets/images/images.jpg'\nimport {UserType} from \"../../Redux/users-reducer\";\nimport {NavLink} from \"react-router-dom\";\n\nexport type UserComponentType = {\n    user: UserType,\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    followingInProgress: Array<number>\n}\n\n\nexport let User = ({user, followingInProgress, follow, unfollow}: UserComponentType) => {\n\n    return <div>\n            <span>\n                <div>\n                    <NavLink to={'./profile/' + user.id}>\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} className={styles.userPhoto}/>\n                </NavLink>\n                    </div>\n                <div> {user.followed\n                    ? <button disabled={followingInProgress\n                        .some((id: number) => id === user.id)}\n                              onClick={() => {\n                                  unfollow(user.id)\n                              }}> unFollow </button>\n                    : <button disabled={followingInProgress\n                        .some((id: number) => id === user.id)}\n                              onClick={() => {\n                                  follow(user.id)\n                              }}> Follow </button>}\n                </div>\n            </span>\n\n        <span>\n<span>\n    <div> {user.name}</div>\n    <div> {user.status}</div>\n</span>\n            {/*<span>\n                        <div> {'user.location.country'}</div>\n                        <div> {'user.location.city'}</div>\n                    </span>*/}\n\n            </span>\n    </div>\n}\n","export default \"data:image/jpeg;base64,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\"","import React from \"react\";\nimport {UserType} from \"../../Redux/users-reducer\";\nimport {Paginator} from \"../common/Paginator/Paginator\";\nimport {User} from \"./User\";\n\nexport type UsersComponentType = {\n    users: Array<UserType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    followingInProgress: Array<number>,\n\n}\n\n\nexport let UsersComponent = ({\n                                 onPageChanged,\n                                 totalUsersCount,\n                                 pageSize,\n                                 currentPage,\n                                 users,\n                                    ...props\n                             }: UsersComponentType) => {\n\n    return <div>\n        <Paginator onPageChanged={onPageChanged}\n                   currentPage={currentPage}\n                   totalUsersCount={totalUsersCount}\n                   pageSize={pageSize}/>\n        {\n            users.map((u) => <User user={u}\n                                   key={u.id}\n                                   followingInProgress={props.followingInProgress}\n                                   follow={props.follow}\n                                   unfollow={props.unfollow}\n            />)\n        }\n    </div>\n}\n","import {RootReduxStoreType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\nimport {UserType} from \"./users-reducer\";\r\n\r\nexport const getUsers1 = (state: RootReduxStoreType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersSuperSelector = createSelector(getUsers1,(users:UserType[]) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state: RootReduxStoreType) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state: RootReduxStoreType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state: RootReduxStoreType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: RootReduxStoreType) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state: RootReduxStoreType) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {\n    follow, getUsers,\n    setCurrentPage,\n    toggleFollowingInProgress,\n    unfollow,\n    UserType,\n} from \"../../Redux/users-reducer\";\nimport {RootReduxStoreType} from \"../../Redux/redux-store\";\nimport {UsersComponent} from \"./UsersComponent\";\nimport {Preloader} from \"../common/preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthredirect\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers1, getUsersSuperSelector\n} from \"../../Redux/selectors\";\n\n\nexport type mapStateToPropsType = {\n    users: Array<UserType>,\n    pageSize: number,\n    totalUsersCount: number,\n    currentPage: number\n    isFetching: boolean,\n    followingInProgress: Array<number>,\n    }\nexport type mapDispatchToPropsType = {\n    follow: (userId: number) => void,\n    unfollow: (userId: number) => void,\n    setCurrentPage: (pageNumber: number) => void,\n    getUsers: (currentPage: number, pageSize: number) => void\n}\n\nexport type UsersPropsType = mapStateToPropsType & mapDispatchToPropsType\n\nclass UsersContainer extends React.Component <UsersPropsType> {\n    componentDidMount() {\n        const{currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize)\n    }\n\n    render() {\n\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n\n            <UsersComponent totalUsersCount={this.props.totalUsersCount}\n                            pageSize={this.props.pageSize}\n                            onPageChanged={this.onPageChanged}\n                            users={this.props.users}\n                            follow={this.props.follow}\n                            unfollow={this.props.unfollow}\n                            currentPage={this.props.currentPage}\n                            followingInProgress={this.props.followingInProgress}\n                           />\n        </>\n    }\n}\n\n/*let mapStateToProps = (state: RootReduxStoreType): mapStateToPropsType => {\n    return {\n        users: state.usersPage.users,\n        pageSize: state.usersPage.pageSize,\n        totalUsersCount: state.usersPage.totalUsersCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching,\n        followingInProgress: state.usersPage.followingInProgress\n    }\n}*/\nlet mapStateToProps = (state: RootReduxStoreType): mapStateToPropsType => {\n    return {\n        //users: getUsers1(state),\n        users: getUsersSuperSelector(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\n/*let mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\n    return {\n        follow: (userId: number) => {\n            dispatch(followAC(userId))\n        },\n        unfollow: (userId: number) => {\n            dispatch(unfollowAC(userId))\n        },\n        setUser: (users: Array<UserType>) => {\n            dispatch(setUsersAC(users))\n        },\n        setCurrentPage: (pageNumber: number) => {\n            dispatch(setCurrentPageAC(pageNumber))\n        },\n        setTotalUsersCount: (totalCount: number) => {\n            dispatch(setTotalUsersCountAC(totalCount))\n        },\n        toggleIsFetching: (isFetching: boolean) => {\n            dispatch(toggleIsFetchingAC(isFetching))\n        }\n    }\n}*/\n\n\nexport default compose<React.ComponentType>(connect(mapStateToProps, {\n        follow,\n        unfollow,\n        setCurrentPage,\n        toggleFollowingInProgress,\n        getUsers\n    }),\n    //withAuthRedirect\n)(UsersContainer)","import React from \"react\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Input} from \"../common/formControls/FormControls\";\nimport {required} from \"../../utils/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../Redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {RootReduxStoreType} from \"../../Redux/redux-store\";\nimport style from './../common/formControls/FormControls.module.css'\n\ntype FormDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n}\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit,error}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div><Field placeholder={'Login'} name={\"email\"} component={Input}\n                        validate={[required]}/></div>\n            <div><Field placeholder={'Password'} name={\"password\"} type={\"password\"} component={Input}\n                        validate={[required]}/></div>\n            <div><Field component={Input} name={\"rememberMe\"} type={'checkbox'}/></div>\n            {error && <div className={style.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n}\nexport type PropsType = {\n    login: (email: string, password: string, rememberMe: boolean) => void,\n    isAuth: boolean\n}\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\nconst Login = ({login,isAuth}: PropsType) => {\n    const onSubmit = (formData: FormDataType) => {\n        login(formData.email, formData.password, formData.rememberMe)\n    }\n    if (isAuth) {\n        return < Redirect to={'/profile'}/>\n    }\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm onSubmit={onSubmit}/>\n    </div>\n}\nconst mapStateToProps = (state: RootReduxStoreType) => ({isAuth: state.auth.isAuth})\nexport default connect(mapStateToProps, {login})(Login)","import React from \"react\";\nimport {getAuthUserData} from \"./auth-reducer\";\nimport {AppThunkType} from \"./redux-store\";\n\n\nexport let initState = {\n    initialized: false\n}\ntype initStateType = {\n    initialized: boolean\n}\n\ntype initializedSuccessType = ReturnType<typeof initializedSuccess>\n\nexport const appReducer = (state: initStateType = initState, action: initializedSuccessType): initStateType => {\n    switch (action.type) {\n        case 'INITIALIZED-SUCCESS':\n            return {\n                ...state,\n                initialized: true,\n            }\n        default:\n            return state\n    }\n}\nexport const initializedSuccess = () => ({type: 'INITIALIZED-SUCCESS'}) as const\n\n\nexport const initializeApp = (): AppThunkType  => (dispatch)=>{\n            let promise = dispatch(getAuthUserData());\n        Promise.all([promise])\n            .then(() => {\n            dispatch(initializedSuccess())\n        })\n    }\n\n","import {applyMiddleware, combineReducers, compose, createStore, Store} from \"redux\";\nimport {profileReducer} from \"./profile-reducer\";\nimport {dialogReducer} from \"./dialog-reducer\";\nimport {usersReducer} from \"./users-reducer\";\nimport {authReducer, setAuthUserData} from \"./auth-reducer\";\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk';\nimport {reducer as formReducer, stopSubmit} from 'redux-form';\nimport {appReducer, initializedSuccess} from \"./app-reducer\";\n\nexport let reducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer\n})\n\n\nexport type RootReduxStoreType = ReturnType<typeof reducer>;\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store: Store = createStore(reducer, composeEnhancers(applyMiddleware(thunkMiddleware)\n));\n//export let store: Store = createStore(reducer, applyMiddleware(thunkMiddleware));\n\ntype AppActionTypes = ReturnType<typeof setAuthUserData>\n    | ReturnType<typeof stopSubmit>\n    | ReturnType<typeof initializedSuccess>\n\nexport type AppThunkType<ReturnType = void> = ThunkAction<ReturnType, RootReduxStoreType, unknown, AppActionTypes>\n\n\n","import React from 'react';\nimport './App.css';\nimport {Navbar} from \"./components/navbar/Navbar\";\nimport {BrowserRouter, HashRouter, Route, withRouter} from 'react-router-dom';\n//import {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\n//import ProfileContainer  from \"./components/profile/ProfileContainer\";\nimport HeaderContainer from \"./components/header/HeaderContainer\";\nimport UsersContainer from \"./components/users/UsersContainer\";\nimport Login from \"./components/login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/app-reducer\";\nimport {RootReduxStoreType, store} from \"./Redux/redux-store\";\nimport {Preloader} from \"./components/common/preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() =>\n    import('./components/Dialogs/DialogsContainer')\n        .then(({DialogsContainer}) => ({default: DialogsContainer})),\n);\nconst ProfileContainer = React.lazy(() => import('./components/profile/ProfileContainer'));\n\ntype mapStateToPropsType = {\n    initialised: boolean\n}\ntype mapDispatchToPropsType = {\n    initializeApp: () => void\n}\ntype PropsType = mapStateToPropsType & mapDispatchToPropsType\n\n\nclass App extends React.Component<PropsType> {\n\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialised) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer) }/>\n                    <Route path='/profile/:userId?' render={() => {\n                        return <React.Suspense fallback={<div>Loading...</div>}>\n                            <ProfileContainer/>\n                        </React.Suspense>\n                    }}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nlet mapStateToProps = (state: RootReduxStoreType): mapStateToPropsType => ({\n    initialised: state.app.initialized\n})\nlet AppContainer = compose<React.ComponentType>(\n    connect(mapStateToProps, {initializeApp}),\n    withRouter\n)(App)\nconst SamuraiJSApp = () => {\n    return <HashRouter /*basename={process.env.PUBLIC_URL}*/>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </HashRouter>\n}\nexport default SamuraiJSApp","import React, {ComponentType} from \"react\";\n\n\n\n\nexport  const withSuspense =(Component: ComponentType)=>{\n\nreturn (props: any)=>{\n    return <React.Suspense fallback={<div>Loading...</div>}>\n            <Component {...props}/>\n        </React.Suspense>\n    }\n}\n\n\n\n","import React from 'react';\nimport './index.css';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from 'react-redux';\nimport {store} from './Redux/redux-store';\nimport SamuraiJSApp from \"./App\";\n\nReactDOM.render(\n    <SamuraiJSApp/>\n    , document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1u8YD\",\"error\":\"FormControls_error__DJhTg\",\"formSummaryError\":\"FormControls_formSummaryError__3E8Dx\"};","import React, {FC} from \"react\";\n\nimport style from './FormControls.module.css'\nimport {WrappedFieldProps} from \"redux-form/lib/Field\";\n\n\n\n\n\n\n\nexport const Textarea: FC<WrappedFieldProps> = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error\n    return (\n        <div className={style.formControl + ' ' + (hasError ? style.error : \"\")}>\n            <div><textarea {...input} {...props}/></div>\n            {hasError && <span> {meta.error}</span>}\n        </div>\n    )\n}\n\n\nexport const Input: FC<WrappedFieldProps> = ({input, meta, ...props}) => {\n\n    const hasError = meta.touched && meta.error\n    return (\n        <div className={style.formControl + ' ' + (hasError ? style.error : \"\")}>\n            <div><input {...input} {...props}/></div>\n            {hasError && <span> {meta.error}</span>}\n        </div>\n    )\n}","export default __webpack_public_path__ + \"static/media/Fidget-spinner.29181c59.gif\";","import React from \"react\";\nimport spinner from \"../../../asets/images/Fidget-spinner.gif\";\n\nexport let Preloader = ( )=>{\n   return <div>\n        <img src={spinner}/>\n\n    </div>\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3nphS\",\"pageNumber\":\"Paginator_pageNumber__2mv_R\",\"selectedPage\":\"Paginator_selectedPage__x6XtG\"};","import React from \"react\";\n\nexport const required = (value: string) => {\n    if (value) return undefined;\n    return \"value required\"\n\n}\n\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\n    if (value.length > maxLength) return `max length ${maxLength} symbols`;\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3tqgO\",\"loginBlock\":\"Header_loginBlock__J-Frr\"};","import React from \"react\";\nimport {ProfileUserType} from \"../components/profile/ProfileContainer\";\nimport {profileAPI, usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\n\n\nexport type likeCountType = {\n    id: number,\n    message: string,\n    count: number,\n}\n\nexport type ProfilePageType = {\n    likesCount: Array<likeCountType>,\n    profile: any,\n    status: string\n}\n\n\nexport let initState = {\n    likesCount: [\n        {id: 1, message: 'Wats up man?', count: 12},\n        {id: 2, message: 'How are ya doing', count: 19}],\n    profile: null,\n    status: ''\n}\nexport type ActionTypes = ReturnType<typeof addPostActionCreator>\n    | ReturnType<typeof setUserProfile>\n    | ReturnType<typeof setStatus>\n    | ReturnType<typeof deletePost>\n\n\nexport const profileReducer = (state: ProfilePageType = initState, action: ActionTypes): ProfilePageType => {\n    switch (action.type) {\n        case \"DELETE-POST\": {\n            return {\n                ...state, likesCount: state.likesCount\n                    .filter(p => p.id != action.postId)\n            }\n        }\n\n        case \"ADD-POST\": {\n            let newPost = {\n                id: 1,\n                message: action.addNewPost,\n                count: 0\n            }\n            return {\n                ...state,\n                likesCount: [...state.likesCount, newPost],\n            };\n        }\n\n        case 'SET-USER-PROFILE': {\n            return {\n                ...state,\n                profile: action.profile\n            };\n        }\n        case 'SET-STATUS': {\n            return {\n                ...state,\n                status: action.status\n            };\n        }\n        default:\n            return state\n    }\n}\n\nexport const addPostActionCreator = (addNewPost: string) => ({\n    type: 'ADD-POST',\n    addNewPost\n}) as const;\n\nexport const setUserProfile = (profile: ProfileUserType) => ({\n    type: 'SET-USER-PROFILE',\n    profile\n}) as const\n\nexport const setStatus = (status: string) => ({\n    type: 'SET-STATUS',\n    status\n}) as const\n\nexport const deletePost = (postId: number) => ({\n    type: 'DELETE-POST',\n    postId\n}) as const\n\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\n    let response = await usersAPI.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n}\n\nexport const getStatus = (userId: number) => async (dispatch: Dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\n\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setStatus(status))\n    }\n}"],"sourceRoot":""}